<?php
return unserialize("a:5:{i:0;a:1:{i:0;a:1:{i:0;a:5:{i:0;s:33:\"tcpfunc_5ee7b7ab8c6814.11030862_1\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}}i:1;a:0:{}i:2;s:11:\"menu_editor\";i:3;N;i:4;a:1:{s:33:\"tcpfunc_5ee7b7ab8c6814.11030862_1\";s:17745:\"\$tpl_funcs['tcpfunc_5ee7b7ab8c6814.11030862_1']=\$KEEP_TPL_FUNCS['tcpfunc_5ee7b7ab8c6814.11030862_1']=recall_named_function('5ee7b7ab8c6c91.40168393','\$parameters,\$cl',\"echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\n// ==============\\\\n// MENU FUNCTIONS\\\\n// ==============\\\\n\\\\nfunction menu_editor_add_new_page()\\\\n{\\\\n	var form=document.getElementById('edit_form');\\\\n\\\\n	window.fauxmodal_prompt(\\\\n		'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"javascript:ENTER_ZONE\\\",array()),\\n	\\\"',\\\\n		'',\\\\n		function(zone)\\\\n		{\\\\n			if (zone!==null)\\\\n			{\\\\n				window.fauxmodal_prompt(\\\\n					'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"javascript:ENTER_PAGE\\\",array()),\\n	\\\"',\\\\n					'',\\\\n					function(page)\\\\n					{\\\\n						if (page!==null)\\\\n						{\\\\n							form.elements['url'].value=zone+':'+page;\\\\n						}\\\\n					},\\\\n					'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:SPECIFYING_NEW_PAGE\\\",array()),\\n	\\\"'\\\\n				);\\\\n			}\\\\n		},\\\\n		'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:SPECIFYING_NEW_PAGE\\\",array()),\\n	\\\"'\\\\n	);\\\\n}\\\\n\\\\nfunction make_field_selected(ob)\\\\n{\\\\n	if (ob.className=='menu_editor_selected_field') return;\\\\n\\\\n	ob.className='menu_editor_selected_field';\\\\n	var changed=false;\\\\n	for (var i=0;i<ob.form.elements.length;i++)\\\\n	{\\\\n		if ((ob.form.elements[i].className=='menu_editor_selected_field') && (ob.form.elements[i]!=ob))\\\\n		{\\\\n			ob.form.elements[i].className='';\\\\n			changed=true;\\\\n		}\\\\n	}\\\\n\\\\n	copy_fields_into_bottom(ob.id.substr(8),changed);\\\\n}\\\\n\\\\nfunction copy_fields_into_bottom(i,changed)\\\\n{\\\\n	window.current_selection=i;\\\\n	var form=document.getElementById('edit_form');\\\\n\\\\n	form.elements['caption_long'].value=document.getElementById('caption_long_'+i).value;\\\\n	form.elements['caption_long'].onchange=function() { document.getElementById('caption_long_'+i).value=this.value; document.getElementById('caption_long_'+i).disabled=(this.value==''); };\\\\n\\\\n	form.elements['url'].value=document.getElementById('url_'+i).value;\\\\n	form.elements['url'].onchange=function() { document.getElementById('url_'+i).value=this.value; };\\\\n\\\\n	form.elements['page_only'].value=document.getElementById('page_only_'+i).value;\\\\n	form.elements['page_only'].onchange=function() { document.getElementById('page_only_'+i).value=this.value; document.getElementById('page_only_'+i).disabled=(this.value==''); };\\\\n\\\\n	var s;\\\\n	for (s=0;s<form.elements['theme_img_code'].options.length;s++)\\\\n		if (document.getElementById('theme_img_code_'+i).value==form.elements['theme_img_code'].options[s].value) break;\\\\n	if (s==form.elements['theme_img_code'].options.length)\\\\n	{\\\\n		s=0;\\\\n		fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:MISSING_THEME_IMAGE_FOR_MENU\\\",array()),\\n	\\\"'.replace(/\\\\\\\\{1\\\\\\\\}/,document.getElementById('theme_img_code_'+i).value));\\\\n	}\\\\n	form.elements['theme_img_code'].selectedIndex=s;\\\\n	form.elements['theme_img_code'].onchange=function() { document.getElementById('theme_img_code_'+i).value=this.options[this.selectedIndex].value; document.getElementById('theme_img_code_'+i).disabled=(this.selectedIndex==0); };\\\\n	if (typeof \\\\\\\$(form.elements['theme_img_code']).select2!='undefined') {\\\\n		\\\\\\\$(form.elements['theme_img_code']).trigger('change');\\\\n	}\\\\n\\\\n	form.elements['new_window'].checked=document.getElementById('new_window_'+i).value=='1';\\\\n	form.elements['new_window'].onclick=function() { document.getElementById('new_window_'+i).value=this.checked?'1':'0'; document.getElementById('new_window_'+i).disabled=!this.checked; };\\\\n\\\\n	form.elements['check_perms'].checked=document.getElementById('check_perms_'+i).value=='1';\\\\n	form.elements['check_perms'].onclick=function() { document.getElementById('check_perms_'+i).value=this.checked?'1':'0'; document.getElementById('check_perms_'+i).disabled=!this.checked; };\\\\n\\\\n	//set_inner_html(form.elements['branch_type'],get_inner_html(document.getElementById('branch_type_'+i))); Breaks in IE due to strict container rules\\\\n	form.elements['branch_type'].selectedIndex=document.getElementById('branch_type_'+i).selectedIndex;\\\\n	form.elements['branch_type'].onchange=function (event) {\\\\n		document.getElementById('branch_type_'+i).selectedIndex=this.selectedIndex;\\\\n		if (document.getElementById('branch_type_'+i).onchange) document.getElementById('branch_type_'+i).onchange(event);\\\\n	};\\\\n	if (typeof \\\\\\\$(form.elements['branch_type']).select2!='undefined') {\\\\n		\\\\\\\$(form.elements['branch_type']).trigger('change');\\\\n	}\\\\n\\\\n	form.elements['include_sitemap'].selectedIndex=document.getElementById('include_sitemap_'+i).value;\\\\n	form.elements['include_sitemap'].onchange=function (event) { document.getElementById('include_sitemap_'+i).value=this.selectedIndex; document.getElementById('include_sitemap_'+i).disabled=(this.selectedIndex==0); };\\\\n	if (typeof \\\\\\\$(form.elements['include_sitemap']).select2!='undefined') {\\\\n		\\\\\\\$(form.elements['include_sitemap']).trigger('change');\\\\n	}\\\\n\\\\n	var mfh=document.getElementById('mini_form_hider');\\\\n\\\\n	mfh.style.display='block';\\\\n\\\\n	if ((typeof window.fade_transition!='undefined'))\\\\n	{\\\\n		if (!changed)\\\\n		{\\\\n			set_opacity(mfh,0.0);\\\\n			fade_transition(mfh,100,30,4);\\\\n		} else\\\\n		{\\\\n			set_opacity(form.elements['url'],0.0);\\\\n			fade_transition(form.elements['url'],100,30,4);\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction menu_editor_handle_keypress(e)\\\\n{\\\\n	if (typeof e=='undefined') e=window.event;\\\\n	var t=e.srcElement?e.srcElement:e.target;\\\\n\\\\n	var up=(e.keyCode?e.keyCode:e.charCode)==38;\\\\n	var down=(e.keyCode?e.keyCode:e.charCode)==40;\\\\n\\\\n	handle_ordering(t,up,down);\\\\n}\\\\n\\\\nfunction branch_depth(branch)\\\\n{\\\\n	if (branch.parentNode) return branch_depth(branch.parentNode)+1;\\\\n	return 0;\\\\n}\\\\n\\\\nfunction exists_child(elements,parent)\\\\n{\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		if ((elements[i].name.substr(0,7)=='parent_') && (elements[i].value==parent)) return true;\\\\n	}\\\\n	return false;\\\\n}\\\\n\\\\nfunction is_child(elements,possible_parent,possible_child)\\\\n{\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		if ((elements[i].name.substr(7)==possible_child) && (elements[i].name.substr(0,7)=='parent_'))\\\\n		{\\\\n			if (elements[i].value==possible_parent) return true;\\\\n			return is_child(elements,possible_parent,elements[i].value);\\\\n		}\\\\n	}\\\\n	return false;\\\\n}\\\\n\\\\nfunction handle_ordering(t,up,down)\\\\n{\\\\n	if ((up) || (down))\\\\n	{\\\\n		var form=document.getElementById('edit_form');\\\\n\\\\n		// Find the num\\\\n		var index=t.id.substring(t.id.indexOf('_')+1,t.id.length);\\\\n		var num=window.parseInt(form.elements['order_'+index].value);\\\\n\\\\n		// Find the parent\\\\n		var parent_num=document.getElementById('parent_'+index).value;\\\\n\\\\n		var i,b,bindex;\\\\n		var best=-1,bestindex=-1;\\\\n	}\\\\n\\\\n	if (up) // Up\\\\n	{\\\\n		// Find previous branch with same parent (if exists)\\\\n		for (i=0;i<form.elements.length;i++)\\\\n		{\\\\n			if ((form.elements[i].name.substr(0,7)=='parent_') &&\\\\n				 (form.elements[i].value==parent_num))\\\\n			{\\\\n				bindex=form.elements[i].name.substr(7,form.elements[i].name.length);\\\\n				b=window.parseInt(form.elements['order_'+bindex].value);\\\\n				if ((b<num) && (b>best))\\\\n				{\\\\n					best=b;\\\\n					bestindex=bindex;\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n\\\\n	if (down) // Down\\\\n	{\\\\n		// Find next branch with same parent (if exists)\\\\n		for (i=0;i<form.elements.length;i++)\\\\n		{\\\\n			if ((form.elements[i].name.substr(0,7)=='parent_') &&\\\\n				 (form.elements[i].value==parent_num))\\\\n			{\\\\n				bindex=form.elements[i].name.substr(7,form.elements[i].name.length);\\\\n				b=window.parseInt(form.elements['order_'+bindex].value);\\\\n				if ((b>num) && ((b<best) || (best==-1)))\\\\n				{\\\\n					best=b;\\\\n					bestindex=bindex;\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n\\\\n	if (((up) || (down))/* && (best==-1)*/)\\\\n	{\\\\n		var elements=form.getElementsByTagName('input');\\\\n		for (i=0;i<elements.length;i++)\\\\n		{\\\\n			if (elements[i].name=='parent_'+index) // Found our spot\\\\n			{\\\\n				var us=elements[i];\\\\n				for (b=up?(i-1):(i+1);up?(b>0):(b<elements.length);up?b--:b++)\\\\n				{\\\\n					if ((!is_child(elements,index,elements[b].name.substr(7))) && (elements[b].name.substr(0,7)=='parent_') && ((up) || (document.getElementById('branch_type_'+elements[b].name.substr(7)).selectedIndex==0) || (!exists_child(elements,elements[b].name.substr(7)))))\\\\n					{\\\\n						var target=elements[b];\\\\n						var main=us.parentNode.parentNode;\\\\n						var place=target.parentNode.parentNode;\\\\n						if (((up) && (branch_depth(target)<=branch_depth(us))) || ((down) && (branch_depth(target)!=branch_depth(us))))\\\\n						{\\\\n							main.parentNode.removeChild(main);\\\\n							place.parentNode.insertBefore(main,place);\\\\n						} else\\\\n						{\\\\n							main.parentNode.removeChild(main);\\\\n							if (!place.nextSibling)\\\\n							{\\\\n								place.parentNode.appendChild(main);\\\\n							} else\\\\n							{\\\\n								place.parentNode.insertBefore(main,place.nextSibling);\\\\n							}\\\\n						}\\\\n						us.value=target.value;\\\\n						return;\\\\n					}\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction swap_names(t,a,b,t2,values_also)\\\\n{\\\\n	if (typeof t2=='undefined') t2='';\\\\n	if (typeof values_also=='undefined') values_also=false;\\\\n	var _a=document.getElementById(t+'_'+a+t2);\\\\n	var _b=document.getElementById(t+'_'+b+t2);\\\\n	_a.name=t+'_'+b+t2;\\\\n	_b.name=t+'_'+a+t2;\\\\n	_a.id=t+'_'+b+t2;\\\\n	_b.id=t+'_'+a+t2;\\\\n	if (values_also)\\\\n	{\\\\n		var temp=_a.value;\\\\n		_a.value=_b.value;\\\\n		_b.value=temp;\\\\n	}\\\\n\\\\n	var _al=document.getElementById('label_'+t+'_'+a+t2);\\\\n	var _bl=document.getElementById('label_'+t+'_'+b+t2);\\\\n	if (_al)\\\\n	{\\\\n		_al.setAttribute('for',t+'_'+b+t2);\\\\n		_bl.setAttribute('for',t+'_'+a+t2);\\\\n		_al.id='label_'+t+'_'+b+t2;\\\\n		_bl.id='label_'+t+'_'+a+t2;\\\\n	}\\\\n}\\\\n\\\\nfunction magic_copier(object,caption,url,error_message,confirm_message)\\\\n{\\\\n	var e=parent.document.getElementsByName('selected');\\\\n\\\\n	var i,num,yes=false,target_type;\\\\n	for (i=0;i<e.length;i++)\\\\n	{\\\\n		if (e[i].checked)\\\\n		{\\\\n			num=e[i].value.substring(9,e[i].value.length);\\\\n			target_type=parent.document.getElementById('branch_type_'+num);\\\\n			if ((target_type.value=='page') || (target_type.getElementsByTagName('option').length<3))\\\\n			{\\\\n				if (parent.document.getElementById('url_'+num).value=='')\\\\n				{\\\\n					_do_magic_copier(num,url,caption);\\\\n				} else\\\\n				{\\\\n					window.fauxmodal_confirm(\\\\n						confirm_message,\\\\n						function(answer)\\\\n						{\\\\n							if (answer) _do_magic_copier(num,url,caption);\\\\n						}\\\\n					);\\\\n				}\\\\n			} else window.fauxmodal_alert(error_message);\\\\n			yes=true;\\\\n		}\\\\n	}\\\\n	if (!yes) window.fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"javascript:RADIO_NOTHING_SELECTED\\\",array()),\\n	\\\"');\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction _do_magic_copier(num,url,caption)\\\\n{\\\\n	parent.document.getElementById('url_'+num).value=url;\\\\n	parent.document.getElementById('caption_'+num).value=caption;\\\\n}\\\\n\\\\nfunction menu_editor_branch_type_change(id)\\\\n{\\\\n	var disabled=(document.getElementById('branch_type_'+id).value!='page');\\\\n	/*document.getElementById('new_window_'+id).disabled=disabled;\\\\n	document.getElementById('check_perms_'+id).disabled=disabled;\\\\n	document.getElementById('url_'+id).disabled=disabled;*/\\\\n	var sub=document.getElementById('branch_'+id+'_follow_1');\\\\n	if (sub)\\\\n	{\\\\n		sub.style.display=disabled?'block':'none';\\\\n	}\\\\n	sub=document.getElementById('branch_'+id+'_follow_2');\\\\n	if (sub) sub.style.display=disabled?'block':'none';\\\\n}\\\\n\\\\nfunction delete_branch(id)\\\\n{\\\\n	var branch=document.getElementById(id);\\\\n	branch.parentNode.removeChild(branch);\\\\n}\\\\n\\\\nfunction add_new_menu_item(parent_id,clickable_sections)\\\\n{\\\\n	var insert_before_id='branches_go_before_'+parent_id;\\\\n\\\\n	var template=document.getElementById('template').value;\\\\n\\\\n	var before=document.getElementById(insert_before_id);\\\\n	var new_id=Math.floor(Math.random()*10000);\\\\n	var template2=template.replace(/replace\\\\\\\\_me\\\\\\\\_with\\\\\\\\_random/gi,new_id);\\\\n	var highest_order_element=document.getElementById('highest_order');\\\\n	var new_order=highest_order_element.value+1;\\\\n	highest_order_element.value++;\\\\n	template2=template2.replace(/replace\\\\\\\\_me\\\\\\\\_with\\\\\\\\_order/gi,new_order);\\\\n	template2=template2.replace(/replace\\\\\\\\_me\\\\\\\\_with\\\\\\\\_parent/gi,parent_id);\\\\n\\\\n	// Backup form branches\\\\n	var form=document.getElementById('edit_form');\\\\n	var _elements_bak=form.elements,elements_bak=[];\\\\n	var i;\\\\n	for (i=0;i<_elements_bak.length;i++)\\\\n	{\\\\n		elements_bak.push([_elements_bak[i].name,_elements_bak[i].value]);\\\\n	}\\\\n\\\\n	set_inner_html(before,template2,true); // Technically we are actually putting after \\\\\\\"branches_go_before_XXX\\\\\\\", but it makes no difference. It only needs to act as a divider.\\\\n\\\\n	// Restore form branches\\\\n	for (i=0;i<elements_bak.length;i++)\\\\n	{\\\\n		if (elements_bak[i][0])\\\\n		{\\\\n			form.elements[elements_bak[i][0]].value=elements_bak[i][1];\\\\n		}\\\\n	}\\\\n\\\\n	if (!clickable_sections) menu_editor_branch_type_change(new_id);\\\\n\\\\n	//document.getElementById('selected_'+new_id).checked=true;\\\\n\\\\n	document.getElementById('mini_form_hider').style.display='none';\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction check_menu()\\\\n{\\\\n	var form=document.getElementById('edit_form');\\\\n	var i,id,name,the_parent,ignore,caption,url,branch_type;\\\\n	for (i=0;i<form.elements.length;i++)\\\\n	{\\\\n		name=form.elements[i].name.substr(0,7);\\\\n		if (name=='parent_') // We don't care about this, but it does tell us we have found a menu branch ID\\\\n		{\\\\n			id=form.elements[i].name.substring(7,form.elements[i].name.length);\\\\n\\\\n			// Is this visible? (if it is we need to check the IDs\\\\n			the_parent=form.elements[i];\\\\n			do\\\\n			{\\\\n				if (the_parent.style.display=='none')\\\\n				{\\\\n					ignore=true;\\\\n					break;\\\\n				}\\\\n				the_parent=the_parent.parentNode;\\\\n			}\\\\n			while (the_parent.parentNode);\\\\n\\\\n			if (!ignore) // It's the real deal\\\\n			{\\\\n				// Check we have a caption\\\\n				caption=document.getElementById('caption_'+id);\\\\n				url=document.getElementById('url_'+id);\\\\n				if ((caption.value=='') && (url.value!=''))\\\\n				{\\\\n					window.fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"MISSING_CAPTION_ERROR\\\",array()),\\n	\\\"');\\\\n					return false;\\\\n				}\\\\n\\\\n				// If we are a page, check we have a URL\\\\n				branch_type=document.getElementById('branch_type_'+id);\\\\n				if (branch_type.options[branch_type.selectedIndex].value=='page')\\\\n				{\\\\n					if ((caption.value!='') && (url.value==''))\\\\n					{\\\\n						window.fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"MISSING_URL_ERROR\\\",array()),\\n	\\\"');\\\\n						return false;\\\\n					}\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n\\\\n	return true;\\\\n}\\\\n\\\\nfunction delete_menu_branch(ob)\\\\n{\\\\n	var id=ob.id.substring(4,ob.id.length);\\\\n\\\\n	if ((typeof window.showModalDialog!='undefined'\\\",\\n	(\\\" || true\\\"),\\n	\\\") || (ob.form.elements['branch_type_'+id]!='page'))\\\\n	{\\\\n		var choices={buttons__cancel: '\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"INPUTSYSTEM_CANCEL\\\",array()),\\n	\\\"',menu___generic_admin__delete: '\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"DELETE\\\",array()),\\n	\\\"',buttons__move: '\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:MOVETO_MENU\\\",array()),\\n	\\\"'};\\\\n		generate_question_ui(\\\\n			'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"CONFIRM_DELETE_LINK_NICE\\\",array(\\\"xxxx\\\")),\\n	\\\"'.replace('xxxx',document.getElementById('caption_'+id).value),\\\\n			choices,\\\\n			'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:DELETE_MENU_ITEM\\\",array()),\\n	\\\"',\\\\n			null,\\\\n			function(result)\\\\n			{\\\\n				if (result.toLowerCase()=='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"DELETE\\\",array()),\\n	\\\"'.toLowerCase())\\\\n				{\\\\n					delete_branch('branch_wrap_'+ob.name.substr(4,ob.name.length));\\\\n				} else if (result.toLowerCase()=='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:MOVETO_MENU\\\",array()),\\n	\\\"'.toLowerCase())\\\\n				{\\\\n					var choices={buttons__cancel: '\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"INPUTSYSTEM_CANCEL\\\",array()),\\n	\\\"'};\\\\n					for (var i=0;i<window.all_menus.length;i++)\\\\n					{\\\\n						choices['buttons__choose___'+i]=window.all_menus[i];\\\\n					}\\\\n					generate_question_ui(\\\\n						'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:CONFIRM_MOVE_LINK_NICE\\\",array(\\\"xxxx\\\")),\\n	\\\"'.replace('xxxx',document.getElementById('caption_'+id).value),\\\\n						choices,\\\\n						'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"menus:MOVE_MENU_ITEM\\\",array()),\\n	\\\"',\\\\n						null,\\\\n						function(result)\\\\n						{\\\\n							if (result.toLowerCase()!='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"INPUTSYSTEM_CANCEL\\\",array()),\\n	\\\"'.toLowerCase())\\\\n							{\\\\n								var post='',name,value;\\\\n								for (var i=0;i<ob.form.elements.length;i++)\\\\n								{\\\\n									name=ob.form.elements[i].name;\\\\n									if (name.substr(name.length-(('_'+id).length))=='_'+id)\\\\n									{\\\\n										if (ob.nodeName.toLowerCase()=='select')\\\\n										{\\\\n											value=ob.form.elements[i].value;\\\\n											myValue=ob.options[ob.selectedIndex].value;\\\\n										} else\\\\n										{\\\\n											if ((ob.type.toLowerCase()=='checkbox') && (!ob.checked)) continue;\\\\n\\\\n											value=ob.form.elements[i].value;\\\\n										}\\\\n										if (post!='') post+='&';\\\\n										post+=name+'='+window.encodeURIComponent(value);\\\\n									}\\\\n								}\\\\n								do_ajax_request('\\\",\\n	ecv_FIND_SCRIPT_NOHTTP(\\\$cl,array(2),array(\\\"menu_management\\\")),\\n	\\\"'+'?id='+window.encodeURIComponent(id)+'&menu='+window.encodeURIComponent(result)+keep_stub(),null,post);\\\\n								delete_branch('branch_wrap_'+ob.name.substr(4,ob.name.length));\\\\n							}\\\\n						}\\\\n					);\\\\n				}\\\\n			}\\\\n		);\\\\n	} else\\\\n	{\\\\n		window.fauxmodal_confirm(\\\\n			'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"CONFIRM_DELETE_LINK\\\",array(\\\"xxxx\\\")),\\n	\\\"'.replace('xxxx',document.getElementById('caption_'+id).value),\\\\n			function(result)\\\\n			{\\\\n				if (result)\\\\n					delete_branch('branch_wrap_'+ob.name.substr(4,ob.name.length));\\\\n			}\\\\n		);\\\\n	}\\\\n}\\\\n\\\";\");\";}}");

